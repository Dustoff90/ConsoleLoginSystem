from getpass import getpass

status = ""

#Displays if you are a user or not.
def displayMenu():
    status = input("\nAre you a registered user? (Y/N)"" Type 'exit' to exit terminal: ")
    if status == 'exit':
        exit()
    if status == 'EXIT':
        exit()
    if status == 'y':
        oldUser()
    elif status == 'Y':
        oldUser()
    elif status == 'n':
        newUser()
    elif status == 'N':
        newUser()

#Triggers when you create a new user
def newUser():
    createLogin = input("Enter username: ")
    testing = open ("Usernames.txt")

    while createLogin in testing:
        createLogin = input("Enter a new username: ")
        testing = open("Usernames.txt")

    while createLogin not in testing:
            loginsave = open("Usernames.txt", "a")
            loginsave.write("\n"+createLogin)
            loginsave.close()
            createPW = getpass("Create a password: ")
            confirmPW = getpass("Re-enter your password: ")
#Loops until both createPW and confirmPW are the same.
    while createPW != confirmPW:
            print("Passwords do not match.")
            confirmPW = getpass("Re-enter password: ")
    if createPW == confirmPW:
            confirmpass = open("Passwords.txt", "a")
            confirmpass.write("\n"+confirmPW)
            confirmpass.close()
    if createLogin == createLogin:
                print("\nUser created! Welcome "+createLogin+"!")

#Triggers when you're a retunring user.
def oldUser():
    login = input("\nEnter username: ")
    passW = getpass("\nEnter your password: ")

    confirmlogin = open("Usernames.txt")
    confirmpass = open("Passwords.txt")

    if login in confirmlogin and passW in confirmpass:
        print("\nLogin successful.")
    else:
        print("\nLogin unsuccessful.")

#Starts the script and will keep going until exited.
while status != 'q':
    displayMenu()
